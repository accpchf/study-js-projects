<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
该html分别在火狐浏览器，谷歌浏览器，ie9，ie8，ie7下运行，观察结果
<div id="div1">
	这是div1，点击
	<div id="div2">
		这是div2，点击
		<p id="_p">这是p，点击</p>
	</div>
</div>
</body>
<script type="text/javascript">
var EventUtil = {
		  addHandler: function(element, type, handler){
		    if (element.addEventListener){
		      element.addEventListener(type, handler, false);
		    } else if (element.attachEvent){
		      element.attachEvent("on" + type, handler);
		    } else {
		      element["on" + type] = handler;
		    }
		  },
		  removeHandler: function(element, type, handler){
		    if (element.removeEventListener){
		      element.removeEventListener(type, handler, false);
		    } else if (element.detachEvent){
		      element.detachEvent("on" + type, handler);
		    } else {
		      element["on" + type] = null;
		    }
		  },
		  getEvent: function(event){
		    return event ? event : window.event;
		  },
		  getTarget: function(event){
		    return event.target || event.srcElement;
		  },
		  getCurrentTarget: function(event){
			    return event.currentTarget ||this;//IE不支持currentTarget
		  },
		  preventDefault: function(event){
		    if (event.preventDefault){
		      event.preventDefault();
		    } else {
		      event.returnValue = false;
		    }
		  },
		  stopPropagation: function(event){
		    if (event.stopPropagation){
		      event.stopPropagation();
		    } else {
		      event.cancelBubble = true;
		    }
		}
};
		var div1=document.getElementById("div1");
		var div2=document.getElementById("div2");
		var p=document.getElementById("_p");
		function click_func(e){
			//console.log(this);
			var _currentTarget=EventUtil.getCurrentTarget(e);
			console.log("currentTarget.id:"+_currentTarget.id);
		//	var _target=EventUtil.getTarget(e);
			//console.log("target.id:"+_target.id);
		}
		
		EventUtil.addHandler(div1,"click",click_func);
		EventUtil.addHandler(div2,"click",click_func);
		EventUtil.addHandler(p,"click",click_func);
</script>
</html>