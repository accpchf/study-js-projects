<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>对对象数组进行排序</title>
</head>
<script type="text/javascript">

var show_array=function(array){
	for(i=0;i<array.length;i++){
		console.log("name="+array[i].name+" age="+array[i].age);
	}
}

var data = [{name: "Zachary", age: 28}, {name: "Nicholas", age: 29},{name: "Michael", age: 30}];
console.log(data);

//按照name字段进行排序
function compareFunctionByName(object1,object2){
    var value1=object1["name"];
    var value2=object2["name"];
    if(value1<value2){
        return -1;
    }else if(value1==value2){
        return 0;
    }else{
        return 1;
    }    
}

data.sort(compareFunctionByName);
console.log("根据name，正序排列:");
show_array(data);

//按照age字段进行排序
function compareFunctionByAge(object1,object2){
    var value1=object1["age"];
    var value2=object2["age"];
    if(value1<value2){
        return -1;
    }else if(value1==value2){
        return 0;
    }else{
        return 1;
    }    
};
console.log("根据age，正序排列:");
data.sort(compareFunctionByAge);
show_array(data);

//以上代码太丑陋，可以利用js的一个特性，一个函数返回另一个函数
console.log("以上代码太丑陋，可以利用js的一个特性，一个函数返回另一个函数");
function compareObj(propertyName) {
    //数组的sort()方法，在运行时接受一个任意名称的函数，可以看作是一个回调函数，   返回一个定义好的匿名函数,sort()里面的比较函数只要有两个参数即可，
    return function(object1, object2){
        var value1 = object1[propertyName];
        var value2 = object2[propertyName];

        if (value1 < value2){
            return -1;
        } else if (value1 > value2){
            return 1;
        } else {
            return 0;
        }
    };
}



data.sort(compareObj("name"));
console.log("根据name，正序排列:");
show_array(data);

console.log("根据age，正序排列:");
data.sort(compareObj("age"));
show_array(data);
</script>
</html>